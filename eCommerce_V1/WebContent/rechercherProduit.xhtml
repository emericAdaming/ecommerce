<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<h:outputStylesheet library="css" name="styleSheet.css"  />
	<h:outputScript library="js" name="javaScript.js" />

<h:head>
	<title>Page recherche</title>
</h:head>
<h:body>

	<ui:insert name="pageHeader">
		<ui:include src="/template/layout.xhtml"></ui:include>
	</ui:insert>
	
	<h1 style="color: green; text-align: center">Rechercher produit</h1>
	
	<h:form>
    <h:panelGrid columns="3">
        <h:outputText value="Recherche: " />
        <p:inputText id="idResearch" value="#{categorieMB.recherche}">
            <p:ajax event="keyup" update="lol" listener="#{categorieMB.rechercheCategorie}" />
        </p:inputText>
    </h:panelGrid>

	
<p:outputPanel id="lol">
	
<div class="ui-g" style="margin-left:5%" >
    <div class="ui-g-12">----</div>
	<h:form>
	<c:forEach items="#{categorieMB.listeCategories}" var="categorie" varStatus="metadata" >
	 
	  <div class="ui-g-12 ui-md-3">
	  <div class="ui-g-12 " style="border-style: solid;border-width:1px;border-color:grey;background-color:rgba(215,215,215,0.8)">
	   	
	   	<p:commandLink action="#{produitMB.getProduitsCategorie}">
	   	<div class="ui-g-12" style="color:black">Titre</div>
	  	<f:setPropertyActionListener value="#{categorie}" target="#{produitMB.categorie}"></f:setPropertyActionListener>
	  	<h:graphicImage  class="imageTaille" value="#{categorie.image}"/>
	  	</p:commandLink>
	  	<div class="ui-g-12 "><h:outputText style="color:black" value="#{categorie.description}"/></div>
	  	<c:if test="${not empty sessionScope.adminSession}">
	  	<div class="ui-g-6 "> <p:commandButton value="Supprimer" ></p:commandButton> </div>
	  	<div class="ui-g-6 "> <p:commandButton value="Modifier" ></p:commandButton> </div>
	  	</c:if>
	  </div>
		<div class="ui-g-12"></div>
	</div>
	
	<div class="ui-g-12 ui-md-1"></div>
	</c:forEach>
	 </h:form>
 </div>
	
</p:outputPanel>	 

    </h:form>
	
</h:body>
</html>
