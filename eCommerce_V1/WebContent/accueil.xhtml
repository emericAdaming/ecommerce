<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>Accueil</title>
	<h:outputStylesheet library="css" name="styleSheet.css"  />
</h:head>
<h:body >

	<ui:insert name="page">
		<ui:include src="/template/layout.xhtml"></ui:include>
	</ui:insert>
	
		
<p:outputPanel id="lol">
	
<div class="ui-g" style="margin-left:5%" >
    <div class="ui-g-12">----</div>
	<h:form>
	<c:forEach items="#{categorieMB.listeCategories}" var="categorie" varStatus="metadata" >
	  

	  <div class="ui-g-12 ui-md-3">
	  <div class="ui-g-12 " style="border-style: solid;border-width:1px;border-color:grey;background-color:rgba(215,215,215,0.8)">
	   	
	   	<p:commandLink action="#{produitMB.getProduitsCategorie}">
	   	<div class="ui-g-12" style="color:black">Titre</div>
	  	<f:setPropertyActionListener value="#{categorie}" target="#{produitMB.categorie}"></f:setPropertyActionListener>
	  	<h:graphicImage  class="imageTaille" value="#{categorie.image}"/>
	  	</p:commandLink>
	  	<div class="ui-g-12 "><h:outputText style="color:black" value="#{categorie.description}"/></div>
	  	<c:if test="${not empty sessionScope.adminSession}">
	  	<div class="ui-g-6 "> <p:commandButton value="Supprimer" ></p:commandButton> </div>
	  	<div class="ui-g-6 "> <p:commandButton value="Modifier" ></p:commandButton> </div>
	  	</c:if>
	  </div>
		<div class="ui-g-12"></div>
	</div>
	
	<div class="ui-g-12 ui-md-1"></div>
	

	</c:forEach>
	 </h:form>
 </div>
	
</p:outputPanel>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<h:form>

<p:commandButton value="envoie mail" action="#{clientMB.sendMail}"></p:commandButton>
</h:form>	
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<h:form>
		<p:dataTable var="cat" value="#{categorieMB.listeCategories}">
			<p:column headerText="Categories">
				<h:outputText value="#{cat.nomCategorie}" />
			</p:column>
			
		<p:column headerText="Images">
		 	<h:graphicImage  value="#{cat.image}"/>
		</p:column>
			

			<p:column headerText="Boutton">
				<p:commandButton value="#{cat.nomCategorie}"
					action="#{produitMB.getProduitsCategorie}">
					<f:setPropertyActionListener value="#{cat}"
						target="#{produitMB.categorie}"></f:setPropertyActionListener>
				</p:commandButton>

			</p:column>
		</p:dataTable>

	</h:form>
</h:body>
</html>
